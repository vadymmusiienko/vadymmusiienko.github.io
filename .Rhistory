library(tidyverse)
# Load all the data
tuesdata <- tidytuesdayR::tt_load('2023-08-22')
# Unpack a data frame I need
population <- tuesdata$population
# Wrangle and visualize data
population |>
filter(coo == "UKR", year >= 2012) |>
group_by(coa_name) |>
summarize(total_refugees = sum(refugees, na.rm = TRUE)) |>
arrange(desc(total_refugees)) |>
slice_head(n = 10) |>
ggplot(aes(x = reorder(coa_name, total_refugees), y = total_refugees, fill = coa_name)) +
geom_col() +
coord_flip()
#| echo: false
#| message: false
# Load needed libraries
library(tidyverse)
# Load all the data
tuesdata <- tidytuesdayR::tt_load('2023-08-22')
# Unpack a data frame I need
population <- tuesdata$population
# Wrangle and visualize data
population |>
filter(coo == "UKR", year >= 2012) |>
group_by(coa_name) |>
summarize(total_refugees = sum(refugees, na.rm = TRUE)) |>
arrange(desc(total_refugees)) |>
slice_head(n = 10) |>
ggplot(aes(x = reorder(coa_name, total_refugees), y = total_refugees, fill = coa_name)) +
geom_col() +
labs(
title = "Top 7 Countries with Most Refugees from Ukraine (2012 and onwards)",
x = "Country",
y = "Total Refugees",
fill = "Country"
) +
theme_minimal()
#| echo: false
#| message: false
# Load needed libraries
library(tidyverse)
# Load all the data
tuesdata <- tidytuesdayR::tt_load('2023-08-22')
# Unpack a data frame I need
population <- tuesdata$population
# Wrangle and visualize data
population |>
filter(coo == "UKR", year >= 2012) |>
group_by(coa_name) |>
summarize(total_refugees = sum(refugees, na.rm = TRUE)) |>
arrange(desc(total_refugees)) |>
slice_head(n = 5) |>
ggplot(aes(x = reorder(coa_name, total_refugees), y = total_refugees, fill = coa_name)) +
geom_col() +
labs(
title = "Top 5 Countries with Most Refugees from Ukraine (2012 and onwards)",
x = "Country",
y = "Total Refugees",
fill = "Country"
) +
theme_minimal()
#| echo: false
#| message: false
# Load needed libraries
library(tidyverse)
# Load all the data
tuesdata <- tidytuesdayR::tt_load('2023-08-22')
# Unpack a data frame I need
population <- tuesdata$population
# Wrangle and visualize data
population |>
filter(coo == "UKR", year >= 2012) |>
group_by(coa_name) |>
summarize(total_refugees = sum(refugees, na.rm = TRUE)) |>
arrange(desc(total_refugees)) |>
slice_head(n = 5) |>
ggplot(aes(x = reorder(coa_name, total_refugees), y = total_refugees, fill = coa_name)) +
geom_col() +
labs(
title = "Top 5 Countries with Most Refugees from Ukraine (2012 and onwards)",
x = "Country",
y = "Total Refugees",
fill = "Country"
) +
theme_minimal() +
theme(
axis.text.x = element_text(angle = 45, hjust = 1),  # Adjusts x-axis text for better readability
legend.position = "none"  # Removes legend if it’s not necessary
)
#| echo: false
#| message: false
# Load needed libraries
library(tidyverse)
# Load all the data
tuesdata <- tidytuesdayR::tt_load('2023-08-22')
# Unpack a data frame I need
population <- tuesdata$population
# Wrangle and visualize data
population |>
filter(coo == "UKR", year >= 2012) |>
group_by(coa_name) |>
summarize(total_refugees = sum(refugees, na.rm = TRUE)) |>
arrange(desc(total_refugees)) |>
slice_head(n = 5) |>
ggplot(aes(x = reorder(coa_name, total_refugees), y = total_refugees, fill = coa_name)) +
geom_col() +
labs(
title = "Top 5 Countries with Most Refugees from Ukraine (2012 and onwards)",
x = "Country",
y = "Total Refugees",
fill = "Country"
) +
theme_minimal() +
theme(
legend.position = "none"  # Removes legend if it’s not necessary
)
top_countries <- population |>
filter(coo == "UKR", year >= 2013) |>
group_by(coa_name) |>
summarize(total_refugees = sum(refugees, na.rm = TRUE)) |>
arrange(desc(total_refugees)) |>
slice_head(n = 5)
View(top_countries)
# Wrangle and visualize data
top_countries <- population |>
filter(coo == "UKR", year >= 2013) |>
group_by(coa_name) |>
summarize(total_refugees = sum(refugees, na.rm = TRUE)) |>
arrange(desc(total_refugees)) |>
slice_head(n = 5) |>
mutate(coa_name = recode(coa_name, "Czechia" = "Czech Republic",
"Russian Federation" = "Russia",
"United Kingdom of Great
Britain and Northern Ireland" = "UK"))
View(top_countries)
top_countries <- population |>
filter(coo == "UKR", year >= 2013) |>
group_by(coa_name) |>
summarize(total_refugees = sum(refugees, na.rm = TRUE)) |>
arrange(desc(total_refugees)) |>
slice_head(n = 5) |>
mutate(coa_name = recode(coa_name, "Czechia" = "Czech Republic",
"Russian Federation" = "Russia",
"United Kingdom of Great
Britain and Northern Ireland" = "UK"))
?recode
# Wrangle and visualize data
top_countries <- population |>
filter(coo == "UKR", year >= 2013) |>
group_by(coa_name) |>
summarize(total_refugees = sum(refugees, na.rm = TRUE)) |>
arrange(desc(total_refugees)) |>
slice_head(n = 5) |>
mutate(countries = recode(coa_name, "Czechia" = "Czech Republic",
"Russian Federation" = "Russia",
"United Kingdom of Great
Britain and Northern Ireland" = "UK"))
# Wrangle and visualize data
top_countries <- population |>
filter(coo == "UKR", year >= 2013) |>
group_by(coa_name) |>
summarize(total_refugees = sum(refugees, na.rm = TRUE)) |>
arrange(desc(total_refugees)) |>
slice_head(n = 5) |>
mutate(countries = recode(coa_name, "Czechia" = "Czech Republic",
"Russian Federation" = "Russia",
"United Kingdom of Great Britain and Northern Ireland" = "UK"))
population |>
filter(coo = "UKR", year >= 2013, coa_name %in% top_countries$coa_name)
population |>
filter(coo == "UKR", year >= 2013, coa_name %in% top_countries$coa_name)
population |>
filter(coo == "UKR", year >= 2013, coa_name %in% top_countries$coa_name) |>
mutate(countries = recode(coa_name, "Czechia" = "Czech Republic",
"Russian Federation" = "Russia",
"United Kingdom of Great Britain and Northern Ireland"
= "UK"))
population |>
filter(coo == "UKR", year >= 2013, coa_name %in% top_countries$coa_name) |>
mutate(country = recode(coa_name, "Czechia" = "Czech Republic",
"Russian Federation" = "Russia",
"United Kingdom of Great Britain and Northern Ireland"
= "UK")) |>
group_by(country) |>
mutate(total_refugees = sum(refugees, na.rm = TRUE))
#| echo: false
#| message: false
# Load needed libraries
library(tidyverse)
# Load all the data
tuesdata <- tidytuesdayR::tt_load('2023-08-22')
# Unpack a data frame I need
population <- tuesdata$population
# Wrangle and visualize data
top_countries <- population |>
filter(coo == "UKR", year >= 2013) |>
group_by(coa_name) |>
summarize(total_refugees = sum(refugees, na.rm = TRUE)) |>
arrange(desc(total_refugees)) |>
slice_head(n = 5)
population |>
filter(coo == "UKR", year >= 2013, coa_name %in% top_countries$coa_name) |>
mutate(country = recode(coa_name, "Czechia" = "Czech Republic",
"Russian Federation" = "Russia",
"United Kingdom of Great Britain and Northern Ireland"
= "UK")) |>
group_by(country) |>
mutate(total_refugees = sum(refugees, na.rm = TRUE)) |>
ggplot(aes(country, total_refugees)) +
geom_bar()
# Wrangle and visualize data
top_countries <- population |>
filter(coo == "UKR", year >= 2013) |>
group_by(coa_name) |>
summarize(total_refugees = sum(refugees, na.rm = TRUE)) |>
arrange(desc(total_refugees)) |>
slice_head(n = 5)
population |>
filter(coo == "UKR", year >= 2013, coa_name %in% top_countries$coa_name) |>
mutate(country = recode(coa_name, "Czechia" = "Czech Republic",
"Russian Federation" = "Russia",
"United Kingdom of Great Britain and Northern Ireland"
= "UK")) |>
group_by(country) |>
top_countries <- population |>
filter(coo == "UKR", year >= 2013) |>
group_by(coa_name) |>
summarize(total_refugees = sum(refugees, na.rm = TRUE)) |>
arrange(desc(total_refugees)) |>
slice_head(n = 5)
top_countries <- population |>
filter(coo == "UKR", year >= 2013) |>
group_by(coa_name) |>
summarize(total_refugees = sum(refugees, na.rm = TRUE)) |>
arrange(desc(total_refugees)) |>
slice_head(n = 5)
population |>
filter(coo == "UKR", year >= 2013, coa_name %in% top_countries$coa_name) |>
mutate(country = recode(coa_name, "Czechia" = "Czech Republic",
"Russian Federation" = "Russia",
"United Kingdom of Great Britain and Northern Ireland"
= "UK")) |>
group_by(country) |>
mutate(total_refugees = sum(refugees, na.rm = TRUE))
#| echo: false
#| message: false
# Load needed libraries
library(tidyverse)
# Load all the data
tuesdata <- tidytuesdayR::tt_load('2023-08-22')
# Unpack a data frame I need
population <- tuesdata$population
# Wrangle and visualize data
top_countries <- population |>
filter(coo == "UKR", year >= 2013) |>
group_by(coa_name) |>
summarize(total_refugees = sum(refugees, na.rm = TRUE)) |>
arrange(desc(total_refugees)) |>
slice_head(n = 5)
population |>
filter(coo == "UKR", year >= 2013, coa_name %in% top_countries$coa_name) |>
mutate(country = recode(coa_name, "Czechia" = "Czech Republic",
"Russian Federation" = "Russia",
"United Kingdom of Great Britain and Northern Ireland"
= "UK")) |>
group_by(country) |>
mutate(total_refugees = sum(refugees, na.rm = TRUE)) |>
ggplot(aes(distinct(country), distinct(total_refugees))) +
geom_bar()
#| echo: false
#| message: false
# Load needed libraries
library(tidyverse)
# Load all the data
tuesdata <- tidytuesdayR::tt_load('2023-08-22')
# Unpack a data frame I need
population <- tuesdata$population
# Wrangle and visualize data
top_countries <- population |>
filter(coo == "UKR", year >= 2013) |>
group_by(coa_name) |>
summarize(total_refugees = sum(refugees, na.rm = TRUE)) |>
arrange(desc(total_refugees)) |>
slice_head(n = 5)
population |>
filter(coo == "UKR", year >= 2013, coa_name %in% top_countries$coa_name) |>
mutate(country = recode(coa_name, "Czechia" = "Czech Republic",
"Russian Federation" = "Russia",
"United Kingdom of Great Britain and Northern Ireland"
= "UK")) |>
group_by(country) |>
mutate(total_refugees = sum(refugees, na.rm = TRUE)) |>
ggplot(aes(country, total_refugees)) +
geom_col()
#| echo: false
#| message: false
# Load needed libraries
library(tidyverse)
# Load all the data
tuesdata <- tidytuesdayR::tt_load('2023-08-22')
# Unpack a data frame I need
population <- tuesdata$population
# Wrangle and visualize data
top_countries <- population |>
filter(coo == "UKR", year >= 2013) |>
group_by(coa_name) |>
summarize(total_refugees = sum(refugees, na.rm = TRUE)) |>
arrange(desc(total_refugees)) |>
slice_head(n = 5)
population |>
filter(coo == "UKR", year >= 2013, coa_name %in% top_countries$coa_name) |>
mutate(country = recode(coa_name, "Czechia" = "Czech Republic",
"Russian Federation" = "Russia",
"United Kingdom of Great Britain and Northern Ireland"
= "UK")) |>
group_by(country) |>
mutate(total_refugees = sum(refugees, na.rm = TRUE)) |>
ggplot(aes(country, total_refugees, fill = country)) +
geom_col()
#| echo: false
#| message: false
# Load needed libraries
library(tidyverse)
# Load all the data
tuesdata <- tidytuesdayR::tt_load('2023-08-22')
# Unpack a data frame I need
population <- tuesdata$population
# Wrangle and visualize data
top_countries <- population |>
filter(coo == "UKR", year >= 2013) |>
group_by(coa_name) |>
summarize(total_refugees = sum(refugees, na.rm = TRUE)) |>
arrange(desc(total_refugees)) |>
slice_head(n = 5)
population |>
filter(coo == "UKR", year >= 2013, coa_name %in% top_countries$coa_name) |>
mutate(country = recode(coa_name, "Czechia" = "Czech Republic",
"Russian Federation" = "Russia",
"United Kingdom of Great Britain and Northern Ireland"
= "UK")) |>
group_by(country) |>
mutate(total_refugees = sum(refugees, na.rm = TRUE)) |>
ggplot(aes(country, total_refugees, fill = year)) +
geom_col()
#| echo: false
#| message: false
# Load needed libraries
library(tidyverse)
# Load all the data
tuesdata <- tidytuesdayR::tt_load('2023-08-22')
# Unpack a data frame I need
population <- tuesdata$population
# Wrangle and visualize data
top_countries <- population |>
filter(coo == "UKR", year >= 2013) |>
group_by(coa_name) |>
summarize(total_refugees = sum(refugees, na.rm = TRUE)) |>
arrange(desc(total_refugees)) |>
slice_head(n = 5)
population |>
filter(coo == "UKR", year >= 2013, coa_name %in% top_countries$coa_name) |>
mutate(country = recode(coa_name, "Czechia" = "Czech Republic",
"Russian Federation" = "Russia",
"United Kingdom of Great Britain and Northern Ireland"
= "UK")) |>
group_by(country) |>
mutate(total_refugees = sum(refugees, na.rm = TRUE)) |>
ggplot(aes(country, total_refugees, fill = year)) +
geom_col(position = "fill")
#| echo: false
#| message: false
# Load needed libraries
library(tidyverse)
# Load all the data
tuesdata <- tidytuesdayR::tt_load('2023-08-22')
# Unpack a data frame I need
population <- tuesdata$population
# Wrangle and visualize data
top_countries <- population |>
filter(coo == "UKR", year >= 2013) |>
group_by(coa_name) |>
summarize(total_refugees = sum(refugees, na.rm = TRUE)) |>
arrange(desc(total_refugees)) |>
slice_head(n = 5)
population |>
filter(coo == "UKR", year >= 2013, coa_name %in% top_countries$coa_name) |>
mutate(country = recode(coa_name, "Czechia" = "Czech Republic",
"Russian Federation" = "Russia",
"United Kingdom of Great Britain and Northern Ireland"
= "UK")) |>
group_by(country) |>
mutate(total_refugees = sum(refugees, na.rm = TRUE)) |>
ggplot(aes(country, total_refugees, fill = year)) +
geom_col()
#| echo: false
#| message: false
# Load needed libraries
library(tidyverse)
# Load all the data
tuesdata <- tidytuesdayR::tt_load('2023-08-22')
# Unpack a data frame I need
population <- tuesdata$population
# Wrangle and visualize data
top_countries <- population |>
filter(coo == "UKR", year >= 2013) |>
group_by(coa_name) |>
summarize(total_refugees = sum(refugees, na.rm = TRUE)) |>
arrange(desc(total_refugees)) |>
slice_head(n = 5)
population |>
filter(coo == "UKR", year >= 2013, coa_name %in% top_countries$coa_name) |>
mutate(country = recode(coa_name, "Czechia" = "Czech Republic",
"Russian Federation" = "Russia",
"United Kingdom of Great Britain and Northern Ireland"
= "UK")) |>
group_by(country) |>
mutate(total_refugees = sum(refugees, na.rm = TRUE)) |>
ggplot(aes(country, total_refugees, fill = year)) +
geom_col() +
theme_minimal()
population |>
filter(coo == "UKR", year >= 2013, coa_name %in% top_countries$coa_name) |>
mutate(country = recode(coa_name, "Czechia" = "Czech Republic",
"Russian Federation" = "Russia",
"United Kingdom of Great Britain and Northern Ireland"
= "UK")) |>
group_by(country, year) |>
summarize(total_refugees = sum(refugees, na.rm = TRUE), .groups = 'drop')
population |>
filter(coo == "UKR", year >= 2013, coa_name %in% top_countries$coa_name) |>
mutate(country = recode(coa_name, "Czechia" = "Czech Republic",
"Russian Federation" = "Russia",
"United Kingdom of Great Britain and Northern Ireland"
= "UK")) |>
group_by(country, year) |>
summarize(total_refugees = sum(refugees, na.rm = TRUE))
?.groups
?summarise
population |>
filter(coo == "UKR", year >= 2013, coa_name %in% top_countries$coa_name) |>
mutate(country = recode(coa_name, "Czechia" = "Czech Republic",
"Russian Federation" = "Russia",
"United Kingdom of Great Britain and Northern Ireland"
= "UK"))
population |>
filter(coo == "UKR", year >= 2013, coa_name %in% top_countries$coa_name) |>
mutate(country = recode(coa_name, "Czechia" = "Czech Republic",
"Russian Federation" = "Russia",
"United Kingdom of Great Britain and Northern Ireland"
= "UK")) |>
group_by(country, year)
population |>
filter(coo == "UKR", year >= 2013, coa_name %in% top_countries$coa_name) |>
mutate(country = recode(coa_name, "Czechia" = "Czech Republic",
"Russian Federation" = "Russia",
"United Kingdom of Great Britain and Northern Ireland"
= "UK")) |>
group_by(country, year) |>
summarize(total_refugees = sum(refugees, na.rm = TRUE), .groups = 'drop')
#| echo: false
#| message: false
# Load needed libraries
library(tidyverse)
# Load all the data
tuesdata <- tidytuesdayR::tt_load('2023-08-22')
# Unpack a data frame I need
population <- tuesdata$population
# Wrangle and visualize data
top_countries <- population |>
filter(coo == "UKR", year >= 2013) |>
group_by(coa_name) |>
summarize(total_refugees = sum(refugees, na.rm = TRUE)) |>
arrange(desc(total_refugees)) |>
slice_head(n = 5)
population |>
filter(coo == "UKR", year >= 2013, coa_name %in% top_countries$coa_name) |>
mutate(country = recode(coa_name, "Czechia" = "Czech Republic",
"Russian Federation" = "Russia",
"United Kingdom of Great Britain and Northern Ireland"
= "UK")) |>
group_by(country, year) |>
summarize(total_refugees = sum(refugees, na.rm = TRUE), .groups = 'drop') |>
ggplot(aes(country, total_refugees, fill = year)) +
geom_col() +
theme_minimal()
#| echo: false
#| message: false
# Load needed libraries
library(tidyverse)
# Load all the data
tuesdata <- tidytuesdayR::tt_load('2023-08-22')
# Unpack a data frame I need
population <- tuesdata$population
# Wrangle and visualize data
top_countries <- population |>
filter(coo == "UKR", year >= 2013) |>
group_by(coa_name) |>
summarize(total_refugees = sum(refugees, na.rm = TRUE)) |>
arrange(desc(total_refugees)) |>
slice_head(n = 5)
population |>
filter(coo == "UKR", year >= 2013, coa_name %in% top_countries$coa_name) |>
mutate(country = recode(coa_name, "Czechia" = "Czech Republic",
"Russian Federation" = "Russia",
"United Kingdom of Great Britain and Northern Ireland"
= "UK")) |>
group_by(country, year) |>
summarize(total_refugees = sum(refugees, na.rm = TRUE), .groups = 'drop') |>
ggplot(aes(country, total_refugees, factor(fill) = year)) +
?factor
